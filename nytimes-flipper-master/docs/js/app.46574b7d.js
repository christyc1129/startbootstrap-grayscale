webpackJsonp([1],{0:function(t,e,i){t.exports=i("NHnr")},A5AW:function(t,e){},"D/Xu":function(t,e){},FSLm:function(t,e){},G3BA:function(t,e){},Kb1b:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("/5sW"),a={props:["handleSelect"],data:function(){return{sections:["Arts","Books","Business Day","Education","Food","Movies","Obituaries","Science","Sports","Style","Technology","The Upshot","Theater","Travel","U.S.","World","Your Money"]}}},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav"},[i("img",{attrs:{id:"logo",src:"https://int.nyt.com/assets/blogs/latest/images/foundation/logos/nyt-logo-185x26.svg",alt:""}}),i("select",{staticClass:"section-select",attrs:{name:"section"},on:{change:this.handleSelect}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Section")]),i("option",{attrs:{value:"all"}},[t._v("All")]),t._l(t.sections,function(e,n){return i("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])})],2)])},r=[],c=i("XyMi");function l(t){i("VfQT")}var o=!1,u=l,d=null,p=null,h=Object(c["a"])(a,s,r,o,u,d,p),f=h.exports,m=(i("WpTh"),{props:["article"],data:function(){return{}},computed:{hasMultimedia:function(){return!!this.article.multimedia&&this.article.multimedia.length>0},largeImage:function(){return this.article.multimedia.find(function(t){return"articleLarge"===t.crop_name})},thumbImage:function(){return this.article.multimedia.find(function(t){return"thumbStandard"===t.crop_name})},imageStyle:function(){return window.innerWidth>=450?{backgroundImage:"url(https://static01.nyt.com/".concat(this.largeImage.url,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"400px",height:"286px"}:{backgroundImage:"url(https://static01.nyt.com/".concat(this.thumbImage.url,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"75px",height:"75px"}}}}),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article"},[i("div",{staticClass:"headline"},[t.hasMultimedia?i("div",{staticClass:"image",style:t.imageStyle}):t._e(),i("span",{domProps:{innerHTML:t._s(this.article.headline.main)}})]),i("div",{staticClass:"byline"},[t._v("\n    "+t._s(this.article.byline.original)+"\n  ")]),i("div",{staticClass:"snippet"},[i("span",{staticClass:"text",domProps:{innerHTML:t._s(this.article.snippet)}}),i("span",[i("a",{attrs:{href:t.article.web_url}},[t._v("Read more...")])])])])},v=[];function b(t){i("jTZV")}var _=!1,C=b,x=null,y=null,k=Object(c["a"])(m,g,v,_,C,x,y),A=k.exports,w={components:{ArticleCard:A},props:["index","articles","resetPages"],data:function(){return{flip:!1,flippedIndex:999}},computed:{front:function(){return this.articles[this.index]},back:function(){return this.articles[this.index+1]}},watch:{flip:function(t,e){var i=this;!0===t?setTimeout(function(){i.flippedIndex=i.index+1;var t=i.index+2;i.$emit("pageFlip",t)},600):!1===t&&(this.flippedIndex=999-this.index,this.$emit("pageFlip",this.index))},resetPages:function(t,e){!0===t&&(this.flip=!1)}},methods:{flipCard:function(){this.flip=!this.flip}},created:function(){this.flippedIndex=999-this.index}},P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"flip-container",class:{flip:t.flip},style:{zIndex:this.flippedIndex}},[i("div",{staticClass:"flipper"},[i("div",{staticClass:"front",on:{click:this.flipCard}},[i("articleCard",{staticClass:"bottom",attrs:{article:this.front}})],1),i("div",{staticClass:"back",on:{click:this.flipCard}},[i("articleCard",{staticClass:"top",attrs:{article:this.back}})],1)])])])},S=[];function T(t){i("Kb1b")}var I=!1,M=T,j=null,$=null,F=Object(c["a"])(w,P,S,I,M,j,$),E=F.exports,L={props:["articles","getMore","resetPages"],components:{ArticleCard:A,Page:E},data:function(){return{indexViewed:0}},computed:{topArticle:function(){return this.articles[0]},bottomArticle:function(){return this.articles[this.articles.length-1]},pageArticles:function(){var t=this.articles.slice(1,this.articles.length-1);return t}},methods:{advance:function(){this.getMore()},handlePageFlip:function(t){t>=this.articles.length-6&&this.advance()}}},O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carousel"},[i("div",{staticClass:"first"},[i("articleCard",{staticClass:"top",attrs:{article:this.topArticle}})],1),i("div",{staticClass:"pages"},t._l(t.pageArticles,function(e,n){return n%2===0?i("page",{attrs:{index:n,resetPages:t.resetPages,indexViewed:t.indexViewed,articles:t.pageArticles},on:{pageFlip:t.handlePageFlip}}):t._e()})),i("div",{staticClass:"hidden"},t._l(t.articles,function(t,e){return i("articleCard")}))])},D=[];function N(t){i("D/Xu")}var R=!1,V=N,U=null,W=null,B=Object(c["a"])(L,O,D,R,V,U,W),H=B.exports,K={articleSearch:"cb266bc27ff645a181127b63ab80cc92",endpoint:"https://api.nytimes.com/svc/search/v2/articlesearch.json"},X={},G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"credit"},[i("span",{staticClass:"created"},[t._v("Created by "),i("a",{attrs:{href:"http://www.jasontseng.com"}},[t._v("Jason Tseng")]),t._v(". ")]),i("a",{attrs:{href:"https://developer.nytimes.com/"}},[i("img",{staticClass:"nytimes-data",attrs:{src:"http://static01.nytimes.com/packages/images/developer/logos/poweredby_nytimes_150a.png",alt:""}})])])])}];function Q(t){i("FSLm")}var Y=!1,Z=Q,q=null,z=null,tt=Object(c["a"])(X,G,J,Y,Z,q,z),et=tt.exports,it={data:function(){return{clicked:!1,transitionDone:!1}},methods:{handleClick:function(){var t=this;this.clicked=!0,setTimeout(function(){t.transitionDone=!0},600)}}},nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",class:{hide:t.clicked,low:t.transitionDone},on:{click:t.handleClick}},[i("div",{staticClass:"instructions",on:{click:t.handleClick}},[t._v("\n    Click either side to flip pages for more articles.\n  ")])])},at=[];function st(t){i("A5AW")}var rt=!1,ct=st,lt=null,ot=null,ut=Object(c["a"])(it,nt,at,rt,ct,lt,ot),dt=ut.exports,pt=[{headline:{main:""},byline:"",snippet:"",multimedia:[]},{headline:{main:""},byline:"",snippet:"",multimedia:[]},{headline:{main:""},byline:"",snippet:"",multimedia:[]},{headline:{main:""},byline:"",snippet:"",multimedia:[]}],ht={name:"app",components:{Nav:f,Carousel:H,Footer:et,Instructions:dt},watch:{selected:function(t,e){this.page=0;var i=this.getURL(t);this.getArticles(i,"start")}},methods:{handleSelect:function(t){var e=t.target.value;this.selected=e},getURL:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=K.endpoint;return e+="?",e+="&page=".concat(this.page),e+='&fq=source:("The New York Times")',t.length>0&&"all"!==t?e+=' AND section_name:("'.concat(t,'")'):e+=' AND section_name:("Multimedia/Photos")',e+"&sort=newest&api-key=".concat(this.apiKey)},getArticles:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return fetch(t).then(function(t){return t.json()}).then(function(t){switch(i){case"start":e.resetPages=!0,e.populateStart(t),setTimeout(function(){e.resetPages=!1},600);break;case"update":e.populateArticles(t);break;default:console.log("no callback");break}})},populateArticles:function(t){var e=t.response.docs;this.articles=this.articles.concat(e)},populateStart:function(t){var e=t.response.docs;this.articles=e},getMore:function(){this.page++;var t=this.getURL(this.selected);return this.getArticles(t,"update")}},data:function(){return{apiKey:K.articleSearch,selected:"",articles:pt,page:0,resetPages:!1}},created:function(){var t=this.getURL();this.getArticles(t,"start")}},ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Instructions"),i("Nav",{attrs:{handleSelect:t.handleSelect}}),i("Carousel",{attrs:{articles:t.articles,getMore:t.getMore,resetPages:t.resetPages}}),i("Footer")],1)},mt=[];function gt(t){i("G3BA")}var vt=!1,bt=gt,_t=null,Ct=null,xt=Object(c["a"])(ht,ft,mt,vt,bt,_t,Ct),yt=xt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(yt)}}).$mount("#app")},VfQT:function(t,e){},jTZV:function(t,e){}},[0]);
//# sourceMappingURL=app.46574b7d.js.map